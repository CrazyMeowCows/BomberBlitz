<head><title>Bomber Blitz</title></head>

<body>
<canvas id="canvas" width="1600" height="900"></canvas>    
</body>
<script src="https://code.jquery.com/jquery-2.1.0.js"></script>  
    
<script>
var canvas = document.getElementById('canvas'),
ctx = canvas.getContext('2d');
canvas.style = "position:absolute; left: 50%; margin-left: -800px;";
    
var ship = new Image();
ship.src = "https://github.com/CrazyMeowCows/BomberBlitz/blob/main/Ship.png?raw=true";
var plane = new Image();
plane.src = "https://github.com/CrazyMeowCows/BomberBlitz/blob/main/Plane.png?raw=true";
var bomb = new Image();
bomb.src = "https://github.com/CrazyMeowCows/BomberBlitz/blob/main/Bomb.png?raw=true";
var background = new Image();
background.src = "https://github.com/CrazyMeowCows/BomberBlitz/blob/main/Background.png?raw=true";

var water = [];
for (var i = 0; i < 15; i++) {
water[i] = new Image();
if(i < 8){water[i].src = "https://github.com/CrazyMeowCows/BomberBlitz/blob/main/Waves.png?raw=true";}
else{water[i].src = "https://github.com/CrazyMeowCows/BomberBlitz/blob/main/Water.png?raw=true";}
}
    
var explosionGIF = []; //length: 0.912 - 400x400 px - 20 frames - 45.6ms
var explosionInc = 5;
var explosionBool = false;
for (var i = 1; i < 21; i++) {
  explosionGIF[i] = new Image();
  explosionGIF[i].src = "Explosion/explosion ("+i+").png";
}    

var airburstGIF = []; //length: 0.426 - 546x397 px - 10 frames - 42.6ms
var airburstInc = 4;
var airburstBool = false;
for (var i = 1; i < 11; i++) {
  airburstGIF[i] = new Image();
  airburstGIF[i].src = "Airburst/airburst ("+i+").png";
} 

var hitGIF = []; //length: 0.7275 - 800x600 px - 24 frames
var hitInc = 3;
var hitBool = false;
for (var i = 1; i < 25; i++) {
  hitGIF[i] = new Image();
  hitGIF[i].src = "Hit/hit ("+i+").png";
}     
    
var splashGIF = []; //length: 2.49 - 600x500 px - 44 frames
var splashInc = 5;
var splashBool = false;
for (var i = 1; i < 45; i++) {
  splashGIF[i] = new Image();
  splashGIF[i].src = "Splash/splash ("+i+").png";
} 

    
var draw = function () {
    ctx.drawImage(background, 0, 0, 1600, 900);
    
    if(explosionBool){
    ctx.drawImage(explosionGIF[Math.floor(explosionInc/5)], 100, 100, 100, 100);
    explosionInc++;
    if(Math.floor(explosionInc/5) > 20){explosionInc = 5; explosionBool = false;}
    }
    
    if(airburstBool){
    ctx.drawImage(airburstGIF[Math.floor(airburstInc/4)], 200, 100, 100, 100);
    airburstInc++;
    if(Math.floor(airburstInc/4) > 10){airburstInc = 4; airburstBool = false;}
    }
    
    if(hitBool){
    ctx.drawImage(hitGIF[Math.floor(hitInc/3)], 400, 100, 100, 100);
    hitInc++;
    if(Math.floor(hitInc/3) > 10){hitInc = 3; hitBool = false;}
    }
    
    if(splashBool){
    ctx.drawImage(splashGIF[Math.floor(splashInc/5)], 300, 100, 100, 100);
    splashInc++;
    if(Math.floor(splashInc/5) > 44){splashInc = 5; splashBool = false;}
    }
    
    for (var i = 0; i < 15; i++) {
        if(i < 8){ctx.drawImage(water[i], i*255, 900-512, 256, 256);}
        else{ctx.drawImage(water[i], (i-8)*256, 900-256, 256, 256);}
    }
}
setInterval(draw, 10);
    
function IsImageOk(img) {
    if (!img.complete) {
        return false;
    }
    if (img.naturalWidth === 0) {
        return false;
    }
    return true;
}
    
var keyNames = {65: "left", 68: "right"};
var key = null;
        
$("body").keydown(function (event) {
    key = keyNames[event.keyCode]
    if(key == "left"){
        left = true;
        explosionBool = true;
        hitBool = true;
    }       
    if(key == "right"){
        right = true;
        airburstBool = true;
        splashBool = true;
    }
});
    
$("body").keyup(function (event) {
    key = keyNames[event.keyCode]
    if(key == "left"){
        left = false;
    }       
    if(key == "right"){
        right = false;
    }
});
</script>
